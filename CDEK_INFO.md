# üöö –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –°–î–≠–ö API

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. **–†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –°–î–≠–ö API
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–≤—É—Ö —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏:
  - üö™ **–î–æ –¥–≤–µ—Ä–∏** (—Ç–∞—Ä–∏—Ñ 136)
  - üì¶ **–î–æ –ø—É–Ω–∫—Ç–∞ –≤—ã–¥–∞—á–∏** (—Ç–∞—Ä–∏—Ñ 138)
- Fallback —Ä–µ–∂–∏–º —Å –ø—Ä–∏–º–µ—Ä–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

### 2. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∏**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –°–î–≠–ö
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–µ–∫-–Ω–æ–º–µ—Ä–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ—Å—Ç–∞–≤–∫–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### 3. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏**
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ —Ç—Ä–µ–∫-–Ω–æ–º–µ—Ä—É
- –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–æ—Å—ã–ª–∫–∏
- –°—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–∞ —Å–∞–π—Ç–µ –°–î–≠–ö

### 4. **–ü–æ–∏—Å–∫ –ø—É–Ω–∫—Ç–æ–≤ –≤—ã–¥–∞—á–∏**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ü–í–ó –°–î–≠–ö –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –≥–æ—Ä–æ–¥–µ
- –ê–¥—Ä–µ—Å–∞, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
- –¢–µ–ª–µ—Ñ–æ–Ω—ã –ø—É–Ω–∫—Ç–æ–≤ –≤—ã–¥–∞—á–∏

### 5. **–ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤**
- –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤ –≤ –±–∞–∑–µ –°–î–≠–ö –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–¥–æ–≤ –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞

---

## üì° API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 1. –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
```http
POST /api/delivery/calculate
Content-Type: application/json

{
  "city": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
  "address": "–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 1",
  "deliveryType": "door",  // –∏–ª–∏ "pickup"
  "weight": 1000           // –≥—Ä–∞–º–º—ã
}
```

**–û—Ç–≤–µ—Ç (—É—Å–ø–µ—Ö):**
```json
{
  "success": true,
  "deliveryCost": 450,
  "deliveryDays": "2-4",
  "tariffCode": 136,
  "tariffName": "–î–æ –¥–≤–µ—Ä–∏",
  "currency": "RUB"
}
```

**–û—Ç–≤–µ—Ç (fallback):**
```json
{
  "success": false,
  "error": "–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏",
  "fallback": {
    "deliveryCost": 500,
    "deliveryDays": "3-5",
    "tariffName": "–î–æ –¥–≤–µ—Ä–∏ (–ø—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å)",
    "note": "API –°–î–≠–ö –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω..."
  }
}
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
```http
POST /api/delivery/create
Content-Type: application/json

{
  "orderId": 1,
  "clientName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "clientPhone": "+79001234567",
  "clientEmail": "ivan@example.com",
  "city": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
  "address": "–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 1, –∫–≤. 10",
  "tariffCode": 136,
  "weight": 2000,
  "orderAmount": 50000
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "cdekOrderId": "72753031-1234-5678-9abc-def012345678",
  "cdekOrderNumber": "1100123456",
  "trackingUrl": "https://www.cdek.ru/ru/tracking?order_id=1100123456",
  "message": "–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–µ –°–î–≠–ö"
}
```

### 3. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏
```http
GET /api/delivery/track/72753031-1234-5678-9abc-def012345678
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "status": "–í –ø—É—Ç–∏",
  "statusCode": "IN_TRANSIT",
  "location": "–ú–æ—Å–∫–≤–∞",
  "trackingNumber": "1100123456",
  "trackingUrl": "https://www.cdek.ru/ru/tracking?order_id=1100123456",
  "history": [
    {
      "status": "–ü—Ä–∏–Ω—è—Ç –Ω–∞ —Å–∫–ª–∞–¥",
      "date": "2024-01-15T10:00:00",
      "location": "–ú–æ—Å–∫–≤–∞"
    }
  ]
}
```

### 4. –ü–æ–∏—Å–∫ –ø—É–Ω–∫—Ç–æ–≤ –≤—ã–¥–∞—á–∏
```http
GET /api/delivery/points?city=–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "count": 150,
  "points": [
    {
      "code": "SPB123",
      "name": "–°–î–≠–ö –Ω–∞ –ù–µ–≤—Å–∫–æ–º",
      "address": "–≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 28",
      "city": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
      "coordinates": {
        "latitude": 59.9343,
        "longitude": 30.3351
      },
      "workTime": "–ü–Ω-–ü—Ç: 9:00-20:00, –°–±-–í—Å: 10:00-18:00",
      "phones": [{"number": "+78123456789"}],
      "type": "–ü—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏"
    }
  ]
}
```

### 5. –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤
```http
GET /api/delivery/cities?query=–°–∞–Ω–∫—Ç
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "cities": [
    {
      "code": 137,
      "city": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
      "region": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
      "country": "–†–æ—Å—Å–∏—è"
    }
  ]
}
```

---

## üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–î–æ—Å—Ç–∞–≤–∫–∞"**
3. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   - –ì–æ—Ä–æ–¥ –¥–æ—Å—Ç–∞–≤–∫–∏
   - –ê–¥—Ä–µ—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –¢–∏–ø –¥–æ—Å—Ç–∞–≤–∫–∏ (–¥–æ –¥–≤–µ—Ä–∏ / –¥–æ –ü–í–ó)
   - –í–µ—Å –ø–æ—Å—ã–ª–∫–∏

4. –ù–∞–∂–º–∏—Ç–µ **"–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å"** –∏–ª–∏ **"–ù–∞–π—Ç–∏ –ø—É–Ω–∫—Ç—ã –≤—ã–¥–∞—á–∏"**

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

‚úÖ **–†–∞—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
‚úÖ **–ü–æ–∏—Å–∫ –ü–í–ó** - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤ –≤—ã–¥–∞—á–∏ —Å –∞–¥—Ä–µ—Å–∞–º–∏
‚úÖ **Fallback —Ä–µ–∂–∏–º** - –ø–æ–∫–∞–∑ –ø—Ä–∏–º–µ—Ä–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ —Å–±–æ–µ API
‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ä–∞—Å—á–µ—Ç–µ
‚úÖ **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - JSON –æ—Ç–≤–µ—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Axios** - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –°–î–≠–ö API
- **–°–î–≠–ö API v2** - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π REST API –°–î–≠–ö
- **OAuth 2.0** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ client credentials

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
‚îú‚îÄ‚îÄ cdek-service.js       # –ú–æ–¥—É–ª—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –°–î–≠–ö API
‚îú‚îÄ‚îÄ server.js             # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–¥–æ–±–∞–≤–ª–µ–Ω—ã /api/delivery/*)
‚îú‚îÄ‚îÄ public/index.html     # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–≤–∫–ª–∞–¥–∫–∞ "–î–æ—Å—Ç–∞–≤–∫–∞")
‚îú‚îÄ‚îÄ package.json          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–¥–æ–±–∞–≤–ª–µ–Ω axios)
‚îî‚îÄ‚îÄ CDEK_INFO.md         # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **—Ç–µ—Å—Ç–æ–≤—ã–µ** —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –°–î–≠–ö:
- **Client ID**: `EMscd6r9JnFiQ3bLoyjJY6eM78JrJceI`
- **Client Secret**: `PjLZkKBHEiLK3YsjtNrt3TGNG0ahs3kG`

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –î–ª—è production –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ https://www.cdek.ru/ru/integration
2. –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–∏ production credentials
3. –ó–∞–º–µ–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª–µ `cdek-service.js`

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç **Fallback –º–µ—Ö–∞–Ω–∏–∑–º**:

1. –ï—Å–ª–∏ API –°–î–≠–ö –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
2. –ï—Å–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Üí –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
3. –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –†–∞—Å—á–µ—Ç –≤–µ—Å–∞

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ—Å **500–≥ –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞**.

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ `cdek-service.js` ‚Üí `calculateWeight()`:
```javascript
calculateWeight(items) {
    return items.reduce((total, item) => {
        const itemWeight = 500; // –∏–∑–º–µ–Ω–∏—Ç—å –∑–¥–µ—Å—å
        return total + (itemWeight * item.quantity);
    }, 0);
}
```

---

## üéØ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω
–ö–ª–∏–µ–Ω—Ç –æ—Ñ–æ—Ä–º–ª—è–µ—Ç –∑–∞–∫–∞–∑ ‚Üí —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É ‚Üí –∫–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç –ø–æ–ª–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å

### 2. –°–∞–º–æ–≤—ã–≤–æ–∑
–ö–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç "–î–æ –ü–í–ó" ‚Üí —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –±–ª–∏–∂–∞–π—à–∏—Ö –ø—É–Ω–∫—Ç–æ–≤ ‚Üí –∫–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç —É–¥–æ–±–Ω—ã–π

### 3. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞ ‚Üí –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ç—Ä–µ–∫-–Ω–æ–º–µ—Ä ‚Üí –º–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–¥–∏—Ç—å –Ω–∞ —Å–∞–π—Ç–µ –°–î–≠–ö

### 4. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
–ú–µ–Ω–µ–¥–∂–µ—Ä —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑ –¥–æ—Å—Ç–∞–≤–∫–∏ ‚Üí —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –°–î–≠–ö ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–º–µ—Ä –Ω–∞–∫–ª–∞–¥–Ω–æ–π

---

## ‚ö†Ô∏è –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–°–æ–≥–ª–∞—Å–Ω–æ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –°–î–≠–ö API](https://apidoc.cdek.ru/?ysclid=misjetk7an711331407):

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∫–æ–¥–∞ –≥–æ—Ä–æ–¥–∞**: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –∫–æ–¥ –≥–æ—Ä–æ–¥–∞ –≤ –±–∞–∑–µ –°–î–≠–ö
2. **–î–≤–∞ –º–µ—Ç–æ–¥–∞ —Ä–∞—Å—á–µ—Ç–∞**:
   - `/calculator/tariff` - —Ä–∞—Å—á–µ—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞
   - `/calculator/tarifflist` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
3. **–¢–∞—Ä–∏—Ñ—ã**:
   - 136 - –ü–æ—Å—ã–ª–∫–∞ –¥–≤–µ—Ä—å-–¥–≤–µ—Ä—å
   - 138 - –ü–æ—Å—ã–ª–∫–∞ —Å–∫–ª–∞–¥-—Å–∫–ª–∞–¥
   - –ò –¥—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–µ credentials, –º–æ–≥—É—Ç –±—ã—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è API
2. **–ì–æ—Ä–æ–¥–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –≥–æ—Ä–æ–¥–æ–≤ –†–§
3. **–í–µ—Å**: –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ (500–≥ –Ω–∞ —Ç–æ–≤–∞—Ä), –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ—á–Ω—ã–π –≤–µ—Å –¥–ª—è production
4. **Fallback**: –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å

---

## üöÄ –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

### –î–ª—è production:

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ production credentials** –æ—Ç –°–î–≠–ö
2. **–î–æ–±–∞–≤–∏—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤** —Å —Ä–µ–∞–ª—å–Ω—ã–º –≤–µ—Å–æ–º –∏ –≥–∞–±–∞—Ä–∏—Ç–∞–º–∏
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç** –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ü–í–ó
4. **–ü–µ—á–∞—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö** - API –°–î–≠–ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é PDF
5. **Webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
6. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
7. **–°—Ç—Ä–∞—Ö–æ–≤–∫–∞** - —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏ –≥—Ä—É–∑–∞
8. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏** - –ø—Ä–∏–º–µ—Ä–∫–∞, —á–∞—Å—Ç–∏—á–Ω–∞—è –≤—ã–¥–∞—á–∞ –∏ —Ç.–¥.

---

## üìû –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –°–î–≠–ö API**: https://api-docs.cdek.ru/
- **–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç**: https://lk.cdek.ru/
- **–¢–∞—Ä–∏—Ñ—ã –°–î–≠–ö**: https://www.cdek.ru/ru/calculate
- **–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞**: https://api.edu.cdek.ru/v2

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### cURL: –†–∞—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏
```bash
curl -X POST http://localhost:3000/api/delivery/calculate \
  -H "Content-Type: application/json" \
  -d '{
    "city": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
    "deliveryType": "door",
    "weight": 1500
  }'
```

### cURL: –ü–æ–∏—Å–∫ –ü–í–ó
```bash
curl "http://localhost:3000/api/delivery/points?city=–ú–æ—Å–∫–≤–∞"
```

### JavaScript: –†–∞—Å—á–µ—Ç –≤ –∫–æ–¥–µ
```javascript
const response = await fetch('/api/delivery/calculate', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
        city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
        deliveryType: 'door',
        weight: 2000
    })
});

const result = await response.json();
console.log('–°—Ç–æ–∏–º–æ—Å—Ç—å:', result.deliveryCost, '—Ä—É–±.');
```

---

## ‚úÖ –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- ‚úÖ –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∏  
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ –ü–æ–∏—Å–∫ –ø—É–Ω–∫—Ç–æ–≤ –≤—ã–¥–∞—á–∏
- ‚úÖ –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤
- ‚úÖ Fallback –º–µ—Ö–∞–Ω–∏–∑–º
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger)
- ‚è≥ Production credentials (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
- ‚è≥ –ü–µ—á–∞—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)
- ‚è≥ Webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)

---

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –°–î–≠–ö API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

